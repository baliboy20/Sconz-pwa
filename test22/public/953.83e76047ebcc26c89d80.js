(self.webpackChunkzz_test_mat_hints=self.webpackChunkzz_test_mat_hints||[]).push([[953],{97953:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ClickCollectModule:()=>Jt});var o=n(61116),i=n(68003),r=n(35366),s=n(79996),a=n(73982),c=n(44019),l=n(77923),d=n(82151),u=n(87064),p=n(19861),m=n(55959),h=n(3080),g=n(47930),f=n(71784),b=n(90611),_=n(96673);class x{constructor(t){this.total=t}call(t,e){return e.subscribe(new v(t,this.total))}}class v extends _.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}var w=n(47701),y=n(56238),C=n(25416),O=n(93169);const P=new Set;let S,Z=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):k}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!P.has(t))try{S||(S=document.createElement("style"),S.setAttribute("type","text/css"),document.head.appendChild(S)),S.sheet&&(S.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),P.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(O.t4))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(O.t4))},token:t,providedIn:"root"}),t})();function k(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let A=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new m.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return I((0,p.Eq)(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){const e=I((0,p.Eq)(t)).map(t=>this._registerQuery(t).observable);let n=(0,h.aj)(e);return n=(0,g.z)(n.pipe((0,b.q)(1)),n.pipe(t=>t.lift(new x(1)),(0,w.b)(0))),n.pipe((0,s.U)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new f.y(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe((0,y.O)(e),(0,s.U)(({matches:e})=>({query:t,matches:e})),(0,C.R)(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Z),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Z),r.LFG(r.R0b))},token:t,providedIn:"root"}),t})();function I(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const M="(min-width: 960px) and (max-width: 1279.98px)",T="(min-width: 1280px) and (max-width: 1919.98px)",q="(min-width: 1920px)";var F=n(99713),R=n(94720),B=n(31906),G=n(40878),z=n(99235),Q=n(43835),E=n(97388);function Y(t,e){}const N=new r.OlP("MatBottomSheetData");class j{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}const U={bottomSheetState:(0,F.X$)("state",[(0,F.SB)("void, hidden",(0,F.oB)({transform:"translateY(100%)"})),(0,F.SB)("visible",(0,F.oB)({transform:"translateY(0%)"})),(0,F.eR)("visible => void, visible => hidden",(0,F.jt)(`${u.mZ.COMPLEX} ${u.yN.ACCELERATION_CURVE}`)),(0,F.eR)("void => visible",(0,F.jt)(`${u.mZ.EXITING} ${u.yN.DECELERATION_CURVE}`))])};let L=(()=>{class t extends d.en{constructor(t,e,n,o,i,s){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=n,this.bottomSheetConfig=s,this._animationState="void",this._animationStateChanged=new r.vpe,this._elementFocusedBeforeOpened=null,this.attachDomPortal=t=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._document=i,this._breakpointSubscription=o.observe([M,T,q]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",o.isMatched(M)),this._toggleClass("mat-bottom-sheet-container-large",o.isMatched(T)),this._toggleClass("mat-bottom-sheet-container-xlarge",o.isMatched(q))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const n=this._elementRef.nativeElement.classList;e?n.add(t):n.remove(t)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=(0,O.ht)();e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){const e=(0,O.ht)(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=(0,O.ht)(),this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(E.qV),r.Y36(A),r.Y36(o.K0,8),r.Y36(j))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,e){if(1&t&&r.Gf(d.Pl,7),2&t){let t;r.iGM(t=r.CRH())&&(e._portalOutlet=t.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,e){1&t&&r.WFA("@state.start",function(t){return e._onAnimationStart(t)})("@state.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.uIk("aria-label",null==e.bottomSheetConfig?null:e.bottomSheetConfig.ariaLabel),r.d8E("@state",e._animationState))},features:[r.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.YNc(0,Y,0,0,"ng-template",0)},directives:[d.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[U.bottomSheetState]}}),t})(),J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[l.U8,u.BQ,d.eL],u.BQ]}),t})();class V{constructor(t,e){this._overlayRef=e,this._afterDismissed=new m.xQ,this._afterOpened=new m.xQ,this.containerInstance=t,this.disableClose=t.bottomSheetConfig.disableClose,t._animationStateChanged.pipe((0,Q.h)(t=>"done"===t.phaseName&&"visible"===t.toState),(0,b.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe((0,Q.h)(t=>"done"===t.phaseName&&"hidden"===t.toState),(0,b.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe((0,b.q)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),(0,B.T)(e.backdropClick(),e.keydownEvents().pipe((0,Q.h)(t=>t.keyCode===z.hY))).subscribe(t=>{this.disableClose||"keydown"===t.type&&(0,z.Vb)(t)||(t.preventDefault(),this.dismiss())})}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe((0,Q.h)(t=>"start"===t.phaseName),(0,b.q)(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const D=new r.OlP("mat-bottom-sheet-default-options");let $=(()=>{class t{constructor(t,e,n,o){this._overlay=t,this._injector=e,this._parentBottomSheet=n,this._defaultOptions=o,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,e){const n=function(t,e){return Object.assign(Object.assign({},t),e)}(this._defaultOptions||new j,e),o=this._createOverlay(n),i=this._attachContainer(o,n),s=new V(i,o);if(t instanceof r.Rgc)i.attachTemplatePortal(new d.UE(t,null,{$implicit:n.data,bottomSheetRef:s}));else{const e=new d.C5(t,void 0,this._createInjector(n,s)),o=i.attachComponentPortal(e);s.instance=o.instance}return s.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==s&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>s.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):s.containerInstance.enter(),this._openedBottomSheetRef=s,s}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(t,e){const n=r.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:j,useValue:e}]}),o=new d.C5(L,e.viewContainerRef,n);return t.attach(o).instance}_createOverlay(t){const e=new l.X_({direction:t.direction,hasBackdrop:t.hasBackdrop,disposeOnNavigation:t.closeOnNavigation,maxWidth:"100%",scrollStrategy:t.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(e.backdropClass=t.backdropClass),this._overlay.create(e)}_createInjector(t,e){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:V,useValue:e},{provide:N,useValue:t.data}];return!t.direction||n&&n.get(R.Is,null)||o.push({provide:R.Is,useValue:{value:t.direction,change:(0,G.of)()}}),r.zs3.create({parent:n||this._injector,providers:o})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(l.aV),r.LFG(r.zs3),r.LFG(t,12),r.LFG(D,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(l.aV),r.LFG(r.gxx),r.LFG(t,12),r.LFG(D,8))},token:t,providedIn:J}),t})();var W=n(31041);class X{constructor(t){this.instructions=t.instructions,this.qty=t.qty,this.choice=t.choice,this.id=t.id,this.productId=t.productId,this.total=t.total,this.name=t.name,this.thumbImg=t.thumbImg,this.options=t.options,this.reCompute(this)}static totalOfOptions(t){return t.map(t=>t.price).reduce((t,e)=>t+e,0)}static create(t){return new X(t)}reCompute(t){this.total=Math.round(this.choice.price*this.qty*100+100*X.totalOfOptions(this.options))/100}nameChoice(){return`${this.name}/${this.choice.name}`}clone(){const t=Object.assign({},this.choice),e=this.options.map(t=>Object.assign({},t));return Object.assign(Object.assign({},this),{choice:t,options:e})}updateTotal(){this.reCompute(this)}}var H=n(71167);function K(t,e){1&t&&r.GkF(0)}function tt(t,e){1&t&&r.GkF(0)}function et(t,e){1&t&&r.GkF(0)}function nt(t,e){1&t&&r.GkF(0)}function ot(t,e){1&t&&r.GkF(0)}function it(t,e){if(1&t&&(r.TgZ(0,"mat-list-option",15),r.TgZ(1,"div",16),r.TgZ(2,"span",17),r._uU(3),r.qZA(),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.Q6J("value",t),r.xp6(3),r.hij(" ",t.name,""),r.xp6(2),r.Oqu(t.price)}}function rt(t,e){if(1&t&&(r.ynx(0,12),r.TgZ(1,"mat-selection-list",13),r.YNc(2,it,6,3,"mat-list-option",14),r.qZA(),r.BQk()),2&t){const t=r.oxw();r.Q6J("formGroup",t.formGroup),r.xp6(2),r.Q6J("ngForOf",t.data.options)}}function st(t,e){if(1&t&&(r.TgZ(0,"mat-radio-button",22),r.TgZ(1,"span",23),r._uU(2),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.Q6J("value",t),r.xp6(2),r.hij(" ",t.name,"")}}function at(t,e){if(1&t&&(r.TgZ(0,"p",18),r.TgZ(1,"span"),r._uU(2,"Choose "),r.qZA(),r.qZA(),r.TgZ(3,"div",19),r.TgZ(4,"mat-radio-group",20),r.YNc(5,st,3,2,"mat-radio-button",21),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(3),r.Q6J("formGroup",t.formGroup),r.xp6(2),r.Q6J("ngForOf",t.data.choices)}}function ct(t,e){1&t&&r.GkF(0)}function lt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",24),r.YNc(1,ct,1,0,"ng-container",3),r.TgZ(2,"button",25),r.NdJ("click",function(){return r.CHM(t),r.oxw().dismiss()}),r.TgZ(3,"mat-icon"),r._uU(4,"close"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw(),e=r.MAs(21);r.Q6J("formGroup",t.formGroup),r.xp6(1),r.Q6J("ngTemplateOutlet",e)}}function dt(t,e){if(1&t&&(r.TgZ(0,"div",12),r._UZ(1,"app-numeric-incrementer",26),r.TgZ(2,"mat-form-field",27),r.TgZ(3,"mat-label"),r._uU(4,"Name"),r.qZA(),r._UZ(5,"input",28),r.qZA(),r.TgZ(6,"mat-form-field",27),r.TgZ(7,"mat-label"),r._uU(8,"Description"),r.qZA(),r._UZ(9,"textarea",29),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.Q6J("formGroup",t.formGroup),r.xp6(1),r.Q6J("showRemoveButton",!0),r.xp6(4),r.Q6J("value",t.data.name),r.xp6(4),r.Q6J("value",t.data.description)}}function ut(t,e){if(1&t&&(r.ynx(0,12),r.TgZ(1,"mat-form-field",27),r.TgZ(2,"mat-label"),r._uU(3,"Special Instructions, Other.."),r.qZA(),r._UZ(4,"textarea",30),r.qZA(),r.BQk()),2&t){const t=r.oxw();r.Q6J("formGroup",t.formGroup)}}function pt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",31),r.NdJ("click",function(){return r.CHM(t),r.oxw().dimissAndSave()}),r._uU(1),r.qZA()}if(2&t){const t=r.oxw();r.xp6(1),r.hij("Add to order ",t.total," ")}}let mt=(()=>{class t{constructor(t,e,n,o){this.fb=t,this.ref=e,this.cart=n,this.prod=o,this.formGroup=this.fb.group({choice:[null,W.kI.required],qty:1,total:[0],options:[[]],instructions:[""]}),this.total="\xa30.00",this.data=o}ngOnInit(){this.formGroup.get("choice").setValue(this.data.choices[0]),this.formGroup.valueChanges.pipe((0,s.U)(t=>{if(!t.choice)return"\xa30.00";let e=t.choice.price*t.qty;const n=t.options.map(t=>t.price).reduce((t,e)=>t+e,0);return e=Math.round(100*(e+n))/100,`\xa3${e}`})).subscribe(t=>this.total=t)}dimissAndSave(){console.log("devoer"),(0,G.of)(this.formGroup.getRawValue()).pipe((0,s.U)(t=>(t.name=this.data.name,t.thumbImg=this.data.thumbImg,t.productId=this.data.productId,t)),(0,s.U)(t=>X.create(t)),(0,c.b)(t=>console.log("xxxxx",t))).subscribe(t=>{console.log("%cForm changes","color: green",t),this.cart.add(t),this.ref.dismiss()},t=>console.log("error",t.message))}dismiss(){this.ref.dismiss()}getSrcset(t){return console.log("url",t),`${t} 200w`}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(W.qu),r.Y36(V),r.Y36(H._),r.Y36(N))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-click-collect-bottom-sheet"]],decls:22,vars:7,consts:[[1,"ccbs-container",3,"formGroup"],[1,"ccbs-img-container"],["imgSize","medium",3,"appCustomImg"],[4,"ngTemplateOutlet"],[1,"ccbs-choices"],[1,"list-spacer",2,"width","100px","height","200px"],["ProductOptionsTmpl",""],["productSelectionTmp",""],["BottomActionbarTmpl",""],["incrementTmpl",""],["OrderInstructionsTmpl",""],["SaveBtnTmpl",""],[3,"formGroup"],["formControlName","options"],["style","font-size: 10px",3,"value",4,"ngFor","ngForOf"],[2,"font-size","10px",3,"value"],[2,"display","flex","justify-content","space-between"],[2,"font-size","14px"],[1,"ccbs-product-choose-label"],[1,"ccbs-product-choose",3,"formGroup"],["aria-label","Select an option","formControlName","choice"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"max-width","25ch"],[1,"ccbs-action-bar",3,"formGroup"],["mat-fab","",2,"background-color","white",3,"click"],["styleClass","Lrg","formControlName","qty",3,"showRemoveButton"],["appearance","outline"],["matInput","","readonly","",3,"value"],["matInput","",3,"value"],["matInput","","formControlName","instructions"],["mat-raised-button","",2,"border-radius","30px","padding","8px 18px",3,"click"]],template:function(t,e){if(1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r._UZ(2,"img",2),r.qZA(),r.YNc(3,K,1,0,"ng-container",3),r.YNc(4,tt,1,0,"ng-container",3),r.TgZ(5,"div",4),r.YNc(6,et,1,0,"ng-container",3),r.YNc(7,nt,1,0,"ng-container",3),r.qZA(),r._UZ(8,"div",5),r.YNc(9,ot,1,0,"ng-container",3),r.qZA(),r.YNc(10,rt,3,2,"ng-template",null,6,r.W1O),r.YNc(12,at,6,2,"ng-template",null,7,r.W1O),r.YNc(14,lt,5,2,"ng-template",null,8,r.W1O),r.YNc(16,dt,10,4,"ng-template",null,9,r.W1O),r.YNc(18,ut,5,1,"ng-template",null,10,r.W1O),r.YNc(20,pt,2,1,"ng-template",null,11,r.W1O)),2&t){const t=r.MAs(11),n=r.MAs(13),o=r.MAs(15),i=r.MAs(17),s=r.MAs(19);r.Q6J("formGroup",e.formGroup),r.xp6(2),r.Q6J("appCustomImg",e.prod.thumbImg._url),r.xp6(1),r.Q6J("ngTemplateOutlet",i),r.xp6(1),r.Q6J("ngTemplateOutlet",n),r.xp6(2),r.Q6J("ngTemplateOutlet",t),r.xp6(1),r.Q6J("ngTemplateOutlet",s),r.xp6(2),r.Q6J("ngTemplateOutlet",o)}},styles:[".ccbs-choices[_ngcontent-%COMP%], .mat-list-option[_ngcontent-%COMP%], .mat-radio-button[_ngcontent-%COMP%]{font:var(--font-smaller-sub-heading12)!important;color:var(--grey-80)}.mat-radio-button[_ngcontent-%COMP%]{margin:10px}p[_ngcontent-%COMP%]{position:relative;border:#0000;font:var(--font-smaller-sub-heading12);padding:0;margin:0}p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0;display:inline-block;position:absolute;padding:0 5px;background-color:#fff;top:-9px;left:10px;color:var(--grey-80);font-size:9px}.ccbs-product-choose[_ngcontent-%COMP%]{display:block;margin:0;padding:16px 0;border:.05em solid var(--grey-10);border-radius:8px;overflow-x:hidden}.ccbs-img-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:0 24px;margin:0 -16px;background-color:var(--background-color1);height:250px}.ccbs-img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto;border:24px solid var(--grey-30);object-fit:scale-down;-webkit-clip-path:circle(100px at center);clip-path:circle(100px at center)}.ccbs-action-bar[_ngcontent-%COMP%]{display:flex;padding:3px;justify-content:space-around;align-content:center;align-items:center;background-color:#eed03b;box-sizing:border-box;margin:0;width:100vw;position:sticky;bottom:-8px;z-index:100;transform:translateX(-16px);box-shadow:0 -9px 18px -8px var(--grey-30)}.mat-radio-button[_ngcontent-%COMP%]{margin-left:10px}.mat-form-field[_ngcontent-%COMP%]{width:100%;font-family:var(--font-family)}"]}),t})(),ht=(()=>{class t{constructor(t){this.sheet=t}openSheet(t){this.sheet.open(mt,{data:t}).afterDismissed().subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG($))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var gt=n(16304),ft=n(51599),bt=n(5248),_t=n(17309),xt=n(95546),vt=n(18863);class wt{constructor(t){this.item=t}get options(){return this.item.get("options")}set options(t){this.item.set("options",t)}get choices(){return this.item.get("choices")}set choices(t){this.item.set("choices",t)}get categories(){return this.item.get("categories")}set categories(t){this.item.set("categories",t)}get thumbImg(){return null===this.item.get("thumbImg")?{_url:"https://parsefiles.back4app.com/fZTnKcHmI10Bqv2avtNiRQzaxFotKVFMLTF9tR7i/22d775cdda6dbe865ba814d7900561ee_no_image-sm.jpg"}:this.item.get("thumbImg")}set thumbImg(t){this.item.set("thumbImg",t),console.log("thumbImg sert",this.item)}get mediumImg(){return this.item.get("mediumImg")}set mediumImg(t){this.item.set("mediumImg",t)}get name(){return this.item.get("name")}set name(t){this.item.set("name",t)}get description(){var t;return null!==(t=this.item.get("description"))&&void 0!==t?t:this.item.get("size")}set description(t){this.item.set("description",t)}get productId(){return this.item.get("productId")}set productId(t){this.item.set("productId",t)}get id(){return this.item.id}set id(t){this.item.id=t}static create(t){return new wt(t)}static restrucVariantFormVals(t){return Object.assign(Object.assign({},t),{variants:{vars:t.variants}})}static createFromJson(t){const e=new(ft.Object.extend("GGStockProducts")),n=new wt(e);return n.id=t.id,n.description=t.description,n.name=t.name,n}getThumbImgUrl(){return this.thumbImg._url}getFieldOfVariant(t){return this.choices.map(e=>e[t])}lowestPrice(t){return this.choices.reduce((t,e)=>t.price<e.price?t.price:e.price,1e10)}save(){var t=this;return(0,gt.Z)(function*(){console.log("%cSAVING","color:red",t.item);try{yield t.item.save({useMasterKey:!0})}catch(e){console.log("Error on saving parse object",e.message)}})()}}var yt=n(14205);const Ct="GGStockProducts";let Ot=(()=>{class t{constructor(){}_findProductItems(){return(0,gt.Z)(function*(){const t=new ft.Query(Ct);return yield t.find()})()}listProductItems(){return(0,_t.p)(this._findProductItems()).pipe((0,b.q)(1),(0,a.zg)(t=>(0,bt.D)(t)),(0,s.U)(t=>wt.create(t)),(0,xt.q)())}_collateByCategory(t){const e={};t.forEach(t=>t.categories.forEach(n=>{n in e?e[n].push(t):e[n]=[t]}));const n=[];return Object.entries(e).forEach(([t,e])=>{n.push([t,e])}),n}_findCoffeeOrderItems(){return(0,gt.Z)(function*(){const t=new ft.Query("CoffeeOrders");return yield t.find()})()}listCoffeeOrderItems(){return(0,_t.p)(this._findCoffeeOrderItems()).pipe((0,b.q)(1),(0,s.U)(t=>t.map(t=>yt.W.create(t))))}findById(t){return(0,gt.Z)(function*(){return new ft.Query(Ct).get(t)})()}findPi(){return(0,gt.Z)(function*(){const t=new ft.Query("Payments");(yield t.equalTo("paymentIntent","pi_1IVRQfFSRZP1GrxVV1YX1yxA").find()).forEach(function(){var t=(0,gt.Z)(function*(t){t.set("payment_status","paid"),yield t.save()});return function(e){return t.apply(this,arguments)}}())})()}uploadImage(t){return(0,gt.Z)(function*(){var e;try{const n=new ft.File(null!==(e=t.name)&&void 0!==e?e:"",t,"image/webp"),o=yield n.save(),i=new(ft.Object.extend("images"));return i.set("image",o),i.save()}catch(n){return n}})()}_findProductItem(t){return(0,gt.Z)(function*(){const e=new ft.Query(Ct);return yield e.get(t)})()}findOne(t){return(0,_t.p)(this._findProductItem(t)).pipe((0,s.U)(t=>wt.create(t)))}_listCategories(){return(0,gt.Z)(function*(){const t=new ft.Query(Ct);try{return yield t.find()}catch(e){throw e}})()}listCategories(){return(0,_t.p)(this._listCategories()).pipe((0,b.q)(1),(0,a.zg)(t=>(0,bt.D)(t)),(0,s.U)(t=>t.get("categories")),(0,s.U)(t=>t),(0,vt.u)((t, e)=>(e.forEach(e=>t.add(e)),t),new Set),(0,s.U)(t=>Array.from(t)))}removeImage(t, e){return(0,gt.Z)(function*(){return yield ft.Cloud.run("IAmACloud"),null})()}deletStockProductImage(t, e){return(0,gt.Z)(function*(){return yield ft.Cloud.run("deletStockProductImage",{id:e})})()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Pt(t, e){1&t&&r.GkF(0)}function St(t, e){1&t&&r.GkF(0)}const Zt=function(t){return{prods:t}};function kt(t, e){if(1&t&&(r.ynx(0),r.TgZ(1,"div",7),r._UZ(2,"div",8),r._uU(3),r.qZA(),r.YNc(4,St,1,0,"ng-container",2),r.BQk()),2&t){const t=e.$implicit;r.oxw();const n=r.MAs(10);r.xp6(2),r.Q6J("id",t[0]),r.xp6(1),r.hij(" ",t[0]," "),r.xp6(1),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(4,Zt,t[1]))}}function At(t, e){if(1&t){const t=r.EpF();r.TgZ(0,"a",11),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(2).scrollToId(e[0])}),r._uU(1),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.Oqu(t[0])}}function It(t, e){if(1&t&&(r.TgZ(0,"div",9),r.YNc(1,At,2,1,"a",10),r.qZA()),2&t){const t=e.prods;r.xp6(1),r.Q6J("ngForOf",t)}}function Mt(t, e){if(1&t){const t=r.EpF();r.TgZ(0,"div",13),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(2).onChooseProduct(e)}),r.TgZ(1,"p",14),r._uU(2),r.qZA(),r.TgZ(3,"p",15),r._uU(4),r.qZA(),r.TgZ(5,"div",16),r._uU(6),r.ALo(7,"currency"),r.qZA(),r.TgZ(8,"div",17),r._UZ(9,"img",18),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.name),r.xp6(2),r.hij(" Lorem ipsum dolor sit amet, consectetur adipisicing elit. Beatae dolore neque quia repellendus. Adipisci animi ",t.description," "),r.xp6(2),r.hij(" ",r.xi3(7,4,t.lowestPrice(),"GBP")," "),r.xp6(3),r.Q6J("src",t.thumbImg._url,r.LSH)}}function Tt(t, e){1&t&&r.YNc(0,Mt,10,7,"div",12),2&t&&r.Q6J("ngForOf",e.prods)}let qt=(()=>{class t{constructor(t, e){this.rnd=t,this.ref=e,this.imgSize="thumb"}ngAfterViewInit(){const t=this.ref.nativeElement;switch(this.imgSize){case"thumb":{const[e,n]=this.thumbAttrs();this.rnd.setAttribute(t,"srcset",e);break}case"medium":{const[e,n]=this.medAttrs();console.log("size",n),this.rnd.setAttribute(t,"srcset",e);break}case"large":{const[e,n]=this.largeAttrs();this.rnd.setAttribute(t,"srcset",e);break}default:console.log("%c XXXXX","color: red",this.imgSize)}}thumbAttrs(){return[`${this.appCustomImg} 738w`,"(max-width: 330px) 150px,\n                   (min-width: 319px) and (max-width: 550px) 300px,\n                   (min-width: 551px) and (max-width: 800px) 175px,\n                   (min-width: 801px) 100px"]}medAttrs(){return[`${this.appCustomImg} 738w`,"(max-width: 330px) 200px,\n                   (min-width: 331px) and (max-width: 550px) 200px,\n                   (min-width: 551px) and (max-width: 800px) 400px,\n                   (min-width: 801px) 550px"]}largeAttrs(){return[`${this.appCustomImg} 738w`,"(max-width: 330px) 75px,\n                   (min-width: 331px) and (max-width: 550px) 100px,\n                   (min-width: 551px) and (max-width: 800px) 200px,\n                   (min-width: 801px) 250px"]}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","appCustomImg",""]],inputs:{imgSize:"imgSize",appCustomImg:"appCustomImg"}}),t})(),Ft=(()=>{class t{constructor(t, e, n, o){this.acr=t,this.bss=e,this.rnd=n,this.repo=o}ngOnInit(){this.prods$=this.repo.listProductItems().pipe((0,s.U)(t=>this.repo._collateByCategory(t))),this.acr.params.pipe((0,s.U)(t=>{var e;return null!==(e=t.id)&&void 0!==e?e:new Error("wasteful")}),(0,a.zg)(t=>this.repo.findOne(t)),(0,s.U)(t=>null!=t?t:new Error("Product Id not found")),(0,c.b)(t=>this.onChooseProduct(t))).subscribe(t=>console.log("acr",t), t=>{var e;return console.log("Err",null!==(e=t.message)&&void 0!==e?e:t.toString())})}ngAfterViewInit(){this.imgs.notifyOnChanges(),this.imgs.changes.subscribe(t=>{this.imgs.forEach((t, e)=>{const n=t.nativeElement,o=n.getElementsByTagName("img")[0],i=n.parentElement.clientWidth;this.rnd.setStyle(o,"width",i/3+"px"),this.rnd.setStyle(n,"width",i/3+"px")})})}ngOnDestroy(){}onChooseProduct(t){this.bss.openSheet(t)}scrollToId(t){var e;null===(e=document.getElementById(t))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"})}computeImgSize(t, e){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(i.gz),r.Y36(ht),r.Y36(r.Qsj),r.Y36(Ot))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-click-collect"]],viewQuery:function(t, e){if(1&t&&r.Gf(qt,5,r.SBq),2&t){let t;r.iGM(t=r.CRH())&&(e.imgs=t)}},decls:11,vars:9,consts:[[1,"cc-container"],["id","ccListWrapper",1,"cc-list-wrapper"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"spacer",2,"background-color","rosybrown"],["CategoriesRibbonTmpl",""],["cardTmpl",""],[1,"category-header",2,"text-transform","capitalize"],[2,"position","relative","transform","translateY(-128px)","display","block",3,"id"],[1,"horizontal-slidebar"],["class","span-item",3,"click",4,"ngFor","ngForOf"],[1,"span-item",3,"click"],["class","card-layout mat-elevation-z5",3,"click",4,"ngFor","ngForOf"],[1,"card-layout","mat-elevation-z5",3,"click"],[1,"product-name"],[1,"product-description"],[1,"product-price"],["id","product-image",1,"product-image",3,"appCustomImg"],[3,"src"]],template:function(t, e){if(1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.YNc(2,Pt,1,0,"ng-container",2),r.ALo(3,"async"),r.YNc(4,kt,5,6,"ng-container",3),r.ALo(5,"async"),r._UZ(6,"div",4),r.qZA(),r.qZA(),r.YNc(7,It,2,1,"ng-template",null,5,r.W1O),r.YNc(9,Tt,1,1,"ng-template",null,6,r.W1O)),2&t){const t=r.MAs(8);r.xp6(2),r.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",r.VKq(7,Zt,r.lcZ(3,3,e.prods$))),r.xp6(2),r.Q6J("ngForOf",r.lcZ(5,5,e.prods$))}},directives:[o.tP,o.sg,qt],pipes:[o.Ov,o.H9],styles:[".cc-container[_ngcontent-%COMP%]{width:100vw}.cc-list-wrapper[_ngcontent-%COMP%]{display:flex;padding-top:50px;flex-flow:row wrap;overflow-y:scroll;height:calc(90vh);width:100vw}.horizontal-slidebar[_ngcontent-%COMP%]{position:fixed;margin:0;box-sizing:border-box;width:100%;top:48px;z-index:1000;display:flex;flex-flow:row nowrap;overflow-x:scroll;height:50px}.horizontal-slidebar[_ngcontent-%COMP%]   .span-item[_ngcontent-%COMP%]{text-align:center;vertical-align:center;border-bottom:2px solid #0000;transition:border-bottom-color .25s}.horizontal-slidebar[_ngcontent-%COMP%]   .span-item[_ngcontent-%COMP%]:hover{border-bottom-color:var(--component-background-color2);transition:border-bottom-color 1.75s}.category-header[_ngcontent-%COMP%]{top:-8px;flex:0 0 auto;width:69%;padding-left:16px;vertical-align:bottom;height:80px;font:var(--font-regular-sub-heading);display:flex;align-items:flex-end;justify-items:flex-end}.card-layout[_ngcontent-%COMP%]{flex:1 1 28%;max-width:48%;overflow-x:hidden;box-sizing:border-box;padding:16px;display:grid;width:calc(100% - 23px);grid-template-columns:60% 40%;grid-template-rows:auto auto 25px;grid-row-gap:8px}.card-layout[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{width:auto;grid-row:1;grid-column:1/span 2}.card-layout[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{grid-row:2;grid-column:1}.card-layout[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{grid-row:3;grid-column:1}.card-layout[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{grid-row:2/span 3;grid-column:2}.horizontal-slidebar[_ngcontent-%COMP%]{background-color:#fafafa;box-shadow:-1px 1px 12px 3px var(--grey-40);border:1px solid var(--grey-30);border-left:none;border-right:none}.horizontal-slidebar[_ngcontent-%COMP%]   .span-item[_ngcontent-%COMP%]{flex:1 0 90px;display:inline;padding:8px;font:var(--font-smaller-sub-heading);font-family:Arial Black,monospace;color:var(--grey-80);-webkit-user-select:none;user-select:none}.card-layout[_ngcontent-%COMP%]{background-color:#fff;margin:16px;border:1px solid var(--grey-10)}.card-layout[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%], .card-layout[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%], .card-layout[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.card-layout[_ngcontent-%COMP%]:hover{border:1px solid #b49f69;transition:border .5s}@media (max-width:999px){.card-layout[_ngcontent-%COMP%]{max-width:100%;flex:1 1 50%;margin:8px}}.card-layout[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{margin:0 8px;font:var(--font-smaller-sub-heading12);text-align:left;vertical-align:top;display:block;text-indent:0;border:none;text-overflow:ellipsis;color:var(--grey-80);overflow-y:hidden}.card-layout[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{width:calc(40% - 8px);color:#000;font:var(--font-regular-sub-heading16-inconsalata)}.card-layout[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{margin:0 8px;font:var(--font-regular-sub-heading16-inconsalata)}.card-layout[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{overflow-x:hidden;display:block;width:100%}.card-layout[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:scale-down}.spacer[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:100vh;display:block;width:100%}@media (hover:hover) and (pointer:coarse){.mat-card[_ngcontent-%COMP%]:hover{border:2px solid red;transition:border .5s}}"]}),t})();var Rt=n(22797),Bt=n(84369),Gt=n(85078),zt=n(37112),Qt=n(7436),Et=n(77307),Yt=n(13070),Nt=n(9550),jt=n(87600),Ut=n(18150);const Lt=[{path:"",component:Ft},{path:":id",component:Ft}];let Jt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[ht],imports:[[o.ez,i.Bz.forChild(Lt),Rt.QW,J,Bt.ot,Gt.ie,zt.g0,Qt.Fk,Et.Ps,Yt.lN,W.UX,W.u5,Nt.c,jt.r]]}),t})();r.B6R(mt,[W.JL,W.sg,qt,o.tP,Gt.Ub,W.JJ,W.u,o.sg,Gt.vS,Qt.VQ,Qt.U0,Bt.lW,Et.Hw,Ut.e,Yt.KE,Yt.hX,Nt.Nt,W.Fj],[])}}]);
