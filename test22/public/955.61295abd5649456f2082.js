(self.webpackChunkzz_test_mat_hints=self.webpackChunkzz_test_mat_hints||[]).push([[955],{83955:(t,e,n)=>{"use strict";n.r(e),n.d(e,{OrderStatmentModule:()=>G});var i=n(38583),l=n(10264),o=n(88002),a=n(93342),r=n(19773),s=n(693),c=n(32548),u=n(37716),p=n(77040),g=n(88707),m=n(45862);function d(t,e){1&t&&u.GkF(0)}function f(t,e){1&t&&u.GkF(0)}function Z(t,e){1&t&&u.GkF(0)}function x(t,e){if(1&t&&(u.TgZ(0,"div",10),u.TgZ(1,"div",11),u._uU(2),u.qZA(),u.TgZ(3,"div",12),u.TgZ(4,"div",13),u._uU(5),u.qZA(),u.qZA(),u.qZA()),2&t){const t=u.oxw(),e=t.labelname,n=t.shippi,i=t.fldname;u.xp6(2),u.Oqu(e),u.xp6(3),u.Oqu(n?n[i]:"")}}function T(t,e){1&t&&u.YNc(0,x,6,2,"div",9),2&t&&u.Q6J("ngIf",e.shippi)}function h(t,e){1&t&&u.GkF(0)}function q(t,e){1&t&&u.GkF(0)}function O(t,e){1&t&&u.GkF(0)}function A(t,e){1&t&&u.GkF(0)}const _=function(t){return{shippi:t,fldname:"firstName",labelname:"First name:"}},b=function(t){return{shippi:t,fldname:"lastName",labelname:"Last name:"}},y=function(t){return{shippi:t,fldname:"computedAddress",labelname:"Adress:"}},U=function(t){return{shippi:t,fldname:"email",labelname:"Email:"}};function k(t,e){if(1&t&&(u.TgZ(0,"div",14),u.YNc(1,h,1,0,"ng-container",3),u.YNc(2,q,1,0,"ng-container",3),u.YNc(3,O,1,0,"ng-container",3),u.YNc(4,A,1,0,"ng-container",3),u.qZA(),u._UZ(5,"div",15)),2&t){const t=e.shippi;u.oxw();const n=u.MAs(15);u.xp6(1),u.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",u.VKq(8,_,t)),u.xp6(1),u.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",u.VKq(10,b,t)),u.xp6(1),u.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",u.VKq(12,y,t)),u.xp6(1),u.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",u.VKq(14,U,t))}}const w=function(t,e){return[t,e]};function v(t,e){if(1&t&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u.TgZ(2,"div"),u._uU(3),u.qZA(),u.qZA(),u.TgZ(4,"td"),u._uU(5),u.qZA(),u.TgZ(6,"td"),u._uU(7),u.qZA(),u.TgZ(8,"td",20),u._uU(9),u.ALo(10,"currency"),u.qZA(),u.TgZ(11,"td",20),u._uU(12),u.ALo(13,"currency"),u.qZA(),u.qZA()),2&t){const t=e.$implicit,n=u.oxw(3);u.xp6(3),u.Oqu(u.WLB(11,w,t.name,t.choice.name).join(", ")),u.xp6(2),u.Oqu(n.joinOptions(t.options)),u.xp6(2),u.Oqu(n.asBasketItmQty(t)),u.xp6(2),u.Oqu(u.xi3(10,5,t.total,"GBP")),u.xp6(3),u.Oqu(u.xi3(13,8,t.choice.price,"GBP"))}}function C(t,e){if(1&t&&(u.TgZ(0,"table",17),u.TgZ(1,"thead"),u.TgZ(2,"tr",18),u.TgZ(3,"td"),u._uU(4,"Descriptions"),u.qZA(),u.TgZ(5,"td"),u._uU(6,"Options"),u.qZA(),u.TgZ(7,"td"),u._uU(8,"Qty"),u.qZA(),u.TgZ(9,"td"),u._uU(10,"Price"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(11,"tbody"),u.YNc(12,v,14,14,"tr",19),u.qZA(),u.TgZ(13,"tfoot"),u._UZ(14,"td"),u._UZ(15,"td"),u.TgZ(16,"td"),u._uU(17,"Total"),u.qZA(),u.TgZ(18,"td"),u._uU(19),u.ALo(20,"currency"),u.qZA(),u.qZA(),u.qZA()),2&t){const t=u.oxw().basket;u.xp6(12),u.Q6J("ngForOf",t.basketItems),u.xp6(7),u.Oqu(u.xi3(20,2,t.total,"GBP"))}}function Y(t,e){1&t&&u.YNc(0,C,21,5,"table",16),2&t&&u.Q6J("ngIf",e.basket)}function N(t,e){1&t&&u.GkF(0)}const P=function(t){return{basket:t}};function I(t,e){if(1&t&&u.YNc(0,N,1,0,"ng-container",3),2&t){const t=e.basket;u.oxw();const n=u.MAs(19);u.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",u.VKq(2,P,t))}}function M(t,e){if(1&t&&(u.TgZ(0,"div"),u.TgZ(1,"div"),u._uU(2),u.qZA(),u.TgZ(3,"div"),u._uU(4),u.qZA(),u.qZA()),2&t){const t=e.paymentStatus,n=e.pint;u.xp6(2),u.hij("Status:\xa0",t,""),u.xp6(2),u.hij("ref:\xa0",n,"")}}const Q=function(t){return{shippi:t}},J=function(t,e){return{paymentStatus:t,pint:e}};let F=(()=>{class t{constructor(t,e,n,i){this.repo=t,this.cartService=e,this.orderService=n,this.route=i}ngOnInit(){this.route.params.pipe((0,o.U)(t=>t.orderId),(0,a.b)(t=>c.D.log("a")(t)),(0,r.zg)(t=>(0,s.p)(this.repo.getCartOfOrder(t)))).subscribe(t=>{c.D.log("customre order")(t),this.item=t},t=>console.log("Error accessing order: ",t.message))}itemDate(){try{return new Date(this.item.updatedAt).toDateString()}catch(t){return"invalid date"}}joinOptions(t){return 0===t.length?"n/a":t.map(t=>t.name).join(", ")}asBasketItmQty(t){return t.qty??t._qty}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(p.E),u.Y36(g._),u.Y36(m.k),u.Y36(l.gz))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-order-statment"]],decls:25,vars:14,consts:[[1,"order-statement-container"],[2,"justify-self","center","font-weight","800"],[2,"font-weight","800","justify-self","center"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["flexRowTmpl",""],["shippingTmpl",""],["basketTableTmpl",""],["basketTmpl",""],["paymentTmpl",""],["class","flex-row-2",4,"ngIf"],[1,"flex-row-2"],[1,"field-label"],[1,"field-value"],[2,"height","auto"],[1,"shipping-details"],[1,"payment-details"],["class","basket-table",4,"ngIf"],[1,"basket-table"],[3,"field-label"],[4,"ngFor","ngForOf"],[2,"text-align","right"]],template:function(t,e){if(1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"h2",1),u._uU(2,"Statement of Purchase"),u.qZA(),u.TgZ(3,"h5",2),u._uU(4),u.qZA(),u.TgZ(5,"h2"),u._uU(6,"Shiping Information:"),u.qZA(),u.YNc(7,d,1,0,"ng-container",3),u.TgZ(8,"h2"),u._uU(9,"Items Purchased"),u.qZA(),u.YNc(10,f,1,0,"ng-container",3),u.TgZ(11,"h2"),u._uU(12,"Payment"),u.qZA(),u.YNc(13,Z,1,0,"ng-container",3),u.qZA(),u.YNc(14,T,1,1,"ng-template",null,4,u.W1O),u.YNc(16,k,6,16,"ng-template",null,5,u.W1O),u.YNc(18,Y,1,1,"ng-template",null,6,u.W1O),u.YNc(20,I,1,4,"ng-template",null,7,u.W1O),u.YNc(22,M,5,2,"ng-template",null,8,u.W1O),u._uU(24," // http://localhost:4200/#/order-statement/Eo8ay2KrWM\n")),2&t){const t=u.MAs(17),n=u.MAs(21),i=u.MAs(23);u.xp6(4),u.Oqu(e.itemDate()),u.xp6(3),u.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",u.VKq(7,Q,null==e.item?null:e.item.shippingInfo)),u.xp6(3),u.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",u.VKq(9,P,null==e.item?null:e.item.order)),u.xp6(3),u.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",u.WLB(11,J,null==e.item?null:e.item.paymentStatus,null==e.item?null:e.item.paymentIntent))}},directives:[i.tP,i.O5,i.sg],pipes:[i.H9],styles:[".order-statement-container[_ngcontent-%COMP%]{display:flex;flex-flow:column;flex:1 1 1000%;height:calc(100vh - 50px);padding:20px;border:1px solid crimson}.shipping-details[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.field-label[_ngcontent-%COMP%]{flex:0 1 29%}.field-value[_ngcontent-%COMP%]{flex:1 0 auto}.flex-row-2[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;flex:1 1 100%}.order-table[_ngcontent-%COMP%]{border:1px solid silver;border-collapse:collapse}.order-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid silver;padding:5px}"]}),t})();const S=[{path:"success/:orderId",component:F},{path:"cancelled/:orderId",component:F}];let B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[l.Bz.forChild(S)],l.Bz]}),t})(),G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[i.ez,B]]}),t})()}}]);