(self.webpackChunkzz_test_mat_hints=self.webpackChunkzz_test_mat_hints||[]).push([[592],{94204:(t,e,s)=>{"use strict";s.d(e,{v:()=>i,B:()=>n});var o=s(37716),r=s(82298),a=(s(53431),s(92340));let i=(()=>{class t{constructor(){this._computedTotal={qty:0,total:0},this.BasketChanged=new o.vpe,this.objId=1e4*Math.random(),this._basketItems=[],this.basket=new r.t}get basketItems(){return this._basketItems}getComputedTotal(){return this._computedTotal}_retrieveCartFromLocalStorage(){const t=window.localStorage.getItem(a.N.LOCAL_STORAGE_CART_ITEMS_KEY),e=JSON.parse(t);console.log(" ::retrieveCartFromLocalStorage",e),Array.isArray(e)&&e.length>0&&(this.basketItems.push(...e),this.recompute())}_getBasket(){return{cart:this.basketItems,qty:2,...this._computedTotal}}_setBasketInLocalStorage(){if(this.basketItems&&this.basketItems.length>0){console.log("_setBasketInLocalStorage",this.basketItems[0].qty);const t=JSON.stringify(this.basketItems);window.localStorage.setItem(a.N.LOCAL_STORAGE_CART_ITEMS_KEY,t)}}add(t){const e=Array.isArray(t)?t:[t];for(const s of e){const t=n.findExisting(s,this.basketItems);-1===t?this.basketItems.unshift(s):this.basketItems[t].qty+=s.qty}this.recompute()}clear(){this.basketItems.splice(0,this.basketItems.length),this.recompute()}descriptionListDelimited(){return""}getBasketTotal(){}recompute(){this._basketItems=[...this._basketItems];const t=this._basketItems.reduce((t,e)=>(t.qty+=e.qty,t.total+=e.amount,t),{total:0,qty:0});this._computedTotal.qty=t.qty,this._computedTotal.total=Math.round(100*t.total)/100,console.log("compouted total",t),this.BasketChanged.emit(t),this._setBasketInLocalStorage(),this.basket.next(this._getBasket())}removeAt(t){t<0||this.basketItems.length<=t||(this.basketItems.splice(t,1),console.log("splicing for :",t),this.recompute())}setQty(t,e){const s=this.basketItems[e].qty;void 0!==s&&s!==t&&(this.basketItems[e].qty=t,this.recompute())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),n=(()=>{class t{static findExisting(t,e){return e.findIndex(e=>t.productId===e.productId&&t.vId===e.vId)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},62351:(t,e,s)=>{"use strict";s.d(e,{p:()=>a});var o=s(38583),r=s(37716);let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[o.ez]]}),t})()},20298:(t,e,s)=>{"use strict";s.d(e,{U:()=>o});const o={receipt:"receipt",cartOrderError:"",timePriority:"alarm_on",productSelectionError:"production_quantity_limits",timesUp:"circle_notifications",documentScanner:"document_scanner",inventory:"inventory",qrCodeScanner:"qr_code_scanner",left_arrow:"chevron_left",right_arrow:"chevron_right"}}}]);